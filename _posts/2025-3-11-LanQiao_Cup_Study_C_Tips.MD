---
title: "Cè¯­è¨€çš„ä¸€äº›æŠ€å·§"
date: 2025-04-07 22:05:05 +0800
updated: 2025-04-07 22:05:05 +0800
author: Cxxhh
categories: [Cè¯­è¨€, å­¦ä¹ è®°å½•]
tags: [Cè¯­è¨€, å­¦ä¹ è®°å½•]
description: "æœ¬æ–‡è®°å½•äº†ä¸€äº›Cè¯­è¨€çš„ä¸€äº›æŠ€å·§"
pin: false
toc: true
comments: true
math: true
mermaid: false
media_subpath: ""
---
# Cè¯­è¨€å‡½æ•°å‚æ•°ä¼ é€’è¯¦è§£

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜Cè¯­è¨€ä¸­å‡½æ•°å‚æ•°ä¼ é€’çš„å„ç§æ–¹æ³•åŠå…¶åº”ç”¨åœºæ™¯ã€‚

## ç›®å½•

1. [å€¼ä¼ é€’](#1-å€¼ä¼ é€’)
2. [æŒ‡é’ˆä¼ é€’](#2-æŒ‡é’ˆä¼ é€’)
3. [æ•°ç»„ä¼ é€’](#3-æ•°ç»„ä¼ é€’)
4. [ç»“æ„ä½“ä¼ é€’](#4-ç»“æ„ä½“ä¼ é€’)
5. [å¤šçº§æŒ‡é’ˆä¼ é€’](#5-å¤šçº§æŒ‡é’ˆä¼ é€’)
6. [é»˜è®¤å‚æ•°æ¨¡æ‹Ÿ](#6-é»˜è®¤å‚æ•°æ¨¡æ‹Ÿ)
7. [å¯å˜å‚æ•°ä¼ é€’](#7-å¯å˜å‚æ•°ä¼ é€’)
8. [æ€»ç»“å¯¹æ¯”](#æ€»ç»“å¯¹æ¯”)

---

## 1. å€¼ä¼ é€’

### å®šä¹‰

åˆ›å»ºå‚æ•°çš„å‰¯æœ¬ä¼ é€’ç»™å‡½æ•°ï¼ŒåŸå§‹å˜é‡ä¸å—ä¿®æ”¹

### ç¤ºä¾‹ä»£ç 

```c
void add(int a, int b) {
    a += b;  // ä»…ä¿®æ”¹å‰¯æœ¬
}

int main() {
    int x = 5, y = 3;
    add(x, y);  // xä»ä¸º5ï¼Œyä»ä¸º3
}

```
### ç‰¹ç‚¹
- âœ… æ•°æ®å®‰å…¨
- âŒ æ— æ³•ä¿®æ”¹åŸå§‹å˜é‡
- ğŸ’¡ é€‚ç”¨äºå°å‹æ•°æ®

---

## 2. æŒ‡é’ˆä¼ é€’
### å®šä¹‰
ä¼ é€’å˜é‡åœ°å€ï¼Œå¯ç›´æ¥æ“ä½œå†…å­˜

### ç¤ºä¾‹ä»£ç 
â€‹```c
void real_add(int* a, int* b) {
    *a += *b;  // ä¿®æ”¹åŸå§‹æ•°æ®
}

int main() {
    int x = 5, y = 3;
    real_add(&x, &y);  // xå˜ä¸º8
}
```

### æ³¨æ„äº‹é¡¹

- å¿…é¡»è¿›è¡Œç©ºæŒ‡é’ˆæ£€æŸ¥
- ä½¿ç”¨`const`ä¿æŠ¤æ•°æ®ï¼š`void print(const int* data)`

---

## 3. æ•°ç»„ä¼ é€’

### å®šä¹‰

æ•°ç»„åè‡ªåŠ¨é€€åŒ–ä¸ºæŒ‡é’ˆ

### ç¤ºä¾‹ä»£ç 

```c
void modifyArray(int arr[], int len) {
    arr[0] = 100;  // ä¿®æ”¹åŸå§‹æ•°ç»„
}

int main() {
    int nums[3] = {1,2,3};
    modifyArray(nums, 3);  // nums[0]å˜ä¸º100
}
```

### ç‰¹æ®Šå½¢å¼

```c
// å¤šç»´æ•°ç»„ä¼ é€’
void matrix(int (*mat)[3], int rows) { /*...*/ }
```

---

## 4. ç»“æ„ä½“ä¼ é€’

### å®šä¹‰

æ¨èä½¿ç”¨æŒ‡é’ˆé¿å…æ‹·è´å¼€é”€

### ç¤ºä¾‹ä»£ç 

```c
typedef struct {
    int x;
    int y;
} Point;

void movePoint(Point* p, int dx) {
    p->x += dx;
}

int main() {
    Point pos = {10,20};
    movePoint(&pos, 5);  // pos.xå˜ä¸º15
}
```

---

## 5. å¤šçº§æŒ‡é’ˆä¼ é€’

### åº”ç”¨åœºæ™¯

ä¿®æ”¹æŒ‡é’ˆæœ¬èº«

### ç¤ºä¾‹ä»£ç 

```c
void allocMemory(int** ptr, int size) {
    *ptr = malloc(size * sizeof(int));
}

int main() {
    int* arr = NULL;
    allocMemory(&arr, 10);  // åˆ†é…å†…å­˜
}
```

---

## 6. é»˜è®¤å‚æ•°æ¨¡æ‹Ÿ

### Cè¯­è¨€å®ç°æ–¹æ³•

ä½¿ç”¨å‡½æ•°é‡è½½æˆ–å®å®šä¹‰

### ç¤ºä¾‹ä»£ç 

```c
// æ–¹æ³•1ï¼šå‡½æ•°é‡è½½
#define NUM_UP_DN(...) _NUM_UP_DN(__VA_ARGS__, 0)
void _NUM_UP_DN(uint8_t H, uint8_t M, uint8_t S, uint8_t cv) { /*...*/ }

// æ–¹æ³•2ï¼šå¯é€‰å‚æ•°ç»“æ„ä½“
typedef struct {
    uint8_t H;
    uint8_t M;
    uint8_t cv;
} ConfigParams;
```

---

## 7. å¯å˜å‚æ•°ä¼ é€’

### ä½¿ç”¨æ ‡å‡†åº“

```c
#include <stdarg.h>

void debugPrint(int count, ...) {
    va_list args;
    va_start(args, count);

    for(int i=0; i<count; i++){
        int val = va_arg(args, int);
        printf("%d ", val);
    }

    va_end(args);
}
```

---

## æ€»ç»“å¯¹æ¯”

| ä¼ é€’æ–¹å¼   | è¯­æ³•ç¤ºä¾‹          | å†…å­˜æ“ä½œ | ä¿®æ”¹èƒ½åŠ› | é€‚ç”¨åœºæ™¯     |
| ---------- | ----------------- | -------- | -------- | ------------ |
| å€¼ä¼ é€’     | `func(int a)`     | å‰¯æœ¬     | æ—        | å°å‹ç®€å•æ•°æ® |
| æŒ‡é’ˆä¼ é€’   | `func(int* a)`    | åŸå§‹     | æœ‰       | éœ€è¦ä¿®æ”¹å˜é‡ |
| æ•°ç»„ä¼ é€’   | `func(int arr[])` | åŸå§‹     | æœ‰       | æ•°ç»„æ“ä½œ     |
| ç»“æ„ä½“æŒ‡é’ˆ | `func(Point* p)`  | åŸå§‹     | æœ‰       | å¤æ‚æ•°æ®ç»“æ„ |
| å¤šçº§æŒ‡é’ˆ   | `func(int** p)`   | åŸå§‹     | æœ‰       | åŠ¨æ€å†…å­˜åˆ†é… |
| å¯å˜å‚æ•°   | `va_list`         | å‰¯æœ¬     | æ—        | ä¸å®šå‚æ•°å‡½æ•° |

---

**æœ€ä½³å®è·µå»ºè®®**ï¼š

1. ä¼˜å…ˆä½¿ç”¨æŒ‡é’ˆä¼ é€’å¤„ç†éœ€è¦ä¿®æ”¹çš„æ•°æ®
2. å¤§å‹ç»“æ„ä½“å¿…é¡»ä½¿ç”¨æŒ‡é’ˆä¼ é€’
3. å¯¹åªè¯»å‚æ•°æ·»åŠ `const`ä¿®é¥°
4. æ•°ç»„ä¼ é€’å§‹ç»ˆéœ€è¦é™„å¸¦é•¿åº¦å‚æ•°
5. è°¨æ…ä½¿ç”¨å¯å˜å‚æ•°ï¼Œé¿å…ç±»å‹å®‰å…¨é—®é¢˜

# C è¯­è¨€æ ¼å¼åŒ–å­—ç¬¦ä¸²é€ŸæŸ¥æŒ‡å—

## ç›®å½•

1. [æ•´æ•°æ ¼å¼åŒ–](#æ•´æ•°æ ¼å¼åŒ–)
2. [æµ®ç‚¹æ•°æ ¼å¼åŒ–](#æµ®ç‚¹æ•°æ ¼å¼åŒ–)
3. [å­—ç¬¦ä¸²æ ¼å¼åŒ–](#å­—ç¬¦ä¸²æ ¼å¼åŒ–)
4. [å…¶ä»–ç±»å‹](#å…¶ä»–ç±»å‹)
5. [ç»„åˆç”¨æ³•](#ç»„åˆç”¨æ³•)
6. [æ³¨æ„äº‹é¡¹](#æ³¨æ„äº‹é¡¹)
7. [ç¤ºä¾‹åœºæ™¯](#ç¤ºä¾‹åœºæ™¯)

---

## æ•´æ•°æ ¼å¼åŒ–

| æ ¼å¼ç¬¦ | è¯´æ˜                | ç¤ºä¾‹è¾“å…¥ | ç¤ºä¾‹è¾“å‡º |
| ------ | ------------------- | -------- | -------- |
| `%d`   | åŸºæœ¬åè¿›åˆ¶æ•´æ•°      | `5`      | `5`      |
| `%02d` | è‡³å°‘ 2 ä½ï¼Œä¸è¶³è¡¥é›¶ | `5`      | `05`     |
| `%4d`  | å³å¯¹é½ï¼Œå  4 ä½     | `5`      | `   5`   |
| `%-4d` | å·¦å¯¹é½ï¼Œå  4 ä½     | `5`      | `5   `   |
| `%x`   | åå…­è¿›åˆ¶ï¼ˆå°å†™ï¼‰    | `255`    | `ff`     |
| `%X`   | åå…­è¿›åˆ¶ï¼ˆå¤§å†™ï¼‰    | `255`    | `FF`     |
| `%o`   | å…«è¿›åˆ¶              | `8`      | `10`     |

---

## æµ®ç‚¹æ•°æ ¼å¼åŒ–

| æ ¼å¼ç¬¦  | è¯´æ˜                       | ç¤ºä¾‹è¾“å…¥ | ç¤ºä¾‹è¾“å‡º       |
| ------- | -------------------------- | -------- | -------------- |
| `%.2f`  | ä¿ç•™ 2 ä½å°æ•°              | `3.1415` | `3.14`         |
| `%6.2f` | æ€»å®½åº¦ 6 ä½ï¼Œä¿ç•™ 2 ä½å°æ•° | `3.1415` | `  3.14`       |
| `%e`    | ç§‘å­¦è®¡æ•°æ³•ï¼ˆå°å†™ï¼‰         | `1000`   | `1.000000e+03` |
| `%E`    | ç§‘å­¦è®¡æ•°æ³•ï¼ˆå¤§å†™ï¼‰         | `1000`   | `1.000000E+03` |
| `%g`    | è‡ªåŠ¨é€‰æ‹©æœ€çŸ­è¡¨ç¤ºï¼ˆå°å†™ï¼‰   | `0.0001` | `1e-04`        |

---

## å­—ç¬¦ä¸²æ ¼å¼åŒ–

| æ ¼å¼ç¬¦  | è¯´æ˜             | ç¤ºä¾‹è¾“å…¥        | ç¤ºä¾‹è¾“å‡º     |
| ------- | ---------------- | --------------- | ------------ |
| `%s`    | åŸºæœ¬å­—ç¬¦ä¸²è¾“å‡º   | `"Hello"`       | `Hello`      |
| `%.5s`  | æˆªå–å‰ 5 ä¸ªå­—ç¬¦  | `"Hello World"` | `Hello`      |
| `%10s`  | å³å¯¹é½ï¼Œå  10 ä½ | `"Hi"`          | `        Hi` |
| `%-10s` | å·¦å¯¹é½ï¼Œå  10 ä½ | `"Hi"`          | `Hi        ` |

---

## å…¶ä»–ç±»å‹

| æ ¼å¼ç¬¦ | è¯´æ˜         | ç¤ºä¾‹è¾“å…¥      | ç¤ºä¾‹è¾“å‡º     |
| ------ | ------------ | ------------- | ------------ |
| `%p`   | æŒ‡é’ˆåœ°å€     | `&var`        | `0x7ffeeb0c` |
| `%u`   | æ— ç¬¦å·åè¿›åˆ¶ | `-1` (32-bit) | `4294967295` |
| `%%`   | è¾“å‡ºç™¾åˆ†å·   | -             | `%`          |

---

## ç»„åˆç”¨æ³•

### å›ºå®šå®½åº¦ + è¡¥é›¶

```c
sprintf(buffer, "%08.2f", 3.1); // â†’ "00003.10"
```

### åŠ¨æ€å®½åº¦/ç²¾åº¦

```c
int width = 5, precision = 2;
sprintf(buffer, "%*.*f", width, precision, 3.1415); // â†’ " 3.14"
```

---

## æ³¨æ„äº‹é¡¹

1. **ç¼“å†²åŒºæº¢å‡º**
   ç¡®ä¿ç›®æ ‡æ•°ç»„è¶³å¤Ÿå¤§ï¼ˆä¾‹å¦‚ `char buffer[64]`ï¼‰ã€‚

2. **ç±»å‹å®‰å…¨**
   æ ¼å¼ç¬¦éœ€ä¸å˜é‡ç±»å‹ä¸¥æ ¼åŒ¹é…ï¼š
   - `%d` â†’ `int`
   - `%f` â†’ `float`/`double`
   - `%u` â†’ `unsigned int`

3. **å¹³å°å·®å¼‚**
   åœ¨åµŒå…¥å¼ç³»ç»Ÿä¸­ï¼Œéƒ¨åˆ†æ ¼å¼ç¬¦å¯èƒ½å—é™åˆ¶ï¼ˆå¦‚ `%f` éœ€å¯ç”¨æµ®ç‚¹æ”¯æŒï¼‰ã€‚

---

## ç¤ºä¾‹åœºæ™¯

### 1. æ—¶é—´æ ¼å¼åŒ–ï¼ˆè¡¥é›¶ï¼‰

```c
sprintf(time_str, "%02d:%02d:%02d", hours, minutes, seconds); // â†’ "09:05:08"
```

### 2. æ—¥å¿—è¾“å‡º

```c
float temperature = 23.456;
sprintf(log, "Temp: %5.1fÂ°C", temperature); // â†’ "Temp:  23.5Â°C"
```

### 3. åå…­è¿›åˆ¶è°ƒè¯•

```c
int error_code = 0xFF;
sprintf(debug, "Error: 0x%04X", error_code); // â†’ "Error: 0x00FF"
```

---

é€šè¿‡æ­¤æ–‡æ¡£ï¼Œæ‚¨å¯ä»¥å¿«é€ŸæŸ¥è¯¢å„ç±»æ ¼å¼åŒ–éœ€æ±‚ã€‚å»ºè®®æ ¹æ®å®é™…åœºæ™¯è°ƒæ•´æ ¼å¼ç¬¦å’Œå‚æ•°ã€‚
