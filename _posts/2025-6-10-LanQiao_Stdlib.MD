---

---
title: "C æ ‡å‡†åº“å­—ç¬¦ä¸²ä¸å†…å­˜æ“ä½œå‡½æ•°åŠæ ¼å¼è¯´æ˜ç¬¦æ±‡æ€»"
date: 2025-06-10 11:43:05 +0800
updated: 2025-06-10 11:43:05 +0800
author: Cxxhh
categories: [Cè¯­è¨€, åµŒå…¥å¼,å­¦ä¹ è®°å½•]
tags: [Cè¯­è¨€,æ ‡å‡†åº“]
description: "æœ¬æ–‡æ±‡æ€»äº† C æ ‡å‡†åº“ä¸­å¸¸ç”¨çš„å­—ç¬¦ä¸²/å†…å­˜æ“ä½œå‡½æ•°ä¸æ ¼å¼åŒ–è¾“å…¥è¾“å‡ºå‡½æ•°ï¼Œä»¥åŠå¸¸è§çš„æ ¼å¼è¯´æ˜ç¬¦ï¼Œç”¨äºåµŒå…¥å¼ C è¯­è¨€å­¦ä¹ è®°å½•"
pin: false
toc: true
comments: true
math: false
mermaid: false
media_subpath: ""
---
---

## 1. å­—ç¬¦ä¸²æ“ä½œå‡½æ•° `<string.h>`

### 1.1 åŸå‹ä¸è¯´æ˜

| å‡½æ•°åŸå‹                                                 | åŠŸèƒ½è¯´æ˜                                 | å¤‡æ³¨                   |
| -------------------------------------------------------- | ---------------------------------------- | ---------------------- |
| `char *strcpy(char *dest, const char *src)`              | å¤åˆ¶ `src` åˆ° `dest`ï¼ˆå« `\0`ï¼‰          | ç›®æ ‡åŒºå¿…é¡»è¶³å¤Ÿå¤§       |
| `char *strncpy(char *dest, const char *src, size_t n)`   | æœ€å¤šå¤åˆ¶ `n` ä¸ªå­—ç¬¦                      | ä¸è¶³ `n` æ—¶è‡ªåŠ¨è¡¥ `\0` |
| `char *strcat(char *dest, const char *src)`              | å°† `src` è¿½åŠ åˆ° `dest` æœ«å°¾ï¼ˆè¦†ç›– `\0`ï¼‰ | ç›®æ ‡åŒºå¿…é¡»è¶³å¤Ÿå¤§       |
| `char *strncat(char *dest, const char *src, size_t n)`   | æœ€å¤šè¿½åŠ  `n` ä¸ªå­—ç¬¦                      | æœ«å°¾è‡ªåŠ¨åŠ  `\0`        |
| `int strcmp(const char *s1, const char *s2)`             | æŒ‰å­—å…¸åºæ¯”è¾ƒå­—ç¬¦ä¸²                       | è¿”å› 0/æ­£/è´Ÿ           |
| `int strncmp(const char *s1, const char *s2, size_t n)`  | æœ€å¤šæ¯”è¾ƒå‰ `n` ä¸ªå­—ç¬¦                    | -                      |
| `size_t strlen(const char *s)`                           | è¿”å›é•¿åº¦ï¼ˆä¸å« `\0`ï¼‰                    | -                      |
| `char *strchr(const char *s, int c)`                     | æŸ¥æ‰¾é¦–æ¬¡å‡ºç°çš„å­—ç¬¦ `c`                   | è¿”å›æŒ‡é’ˆæˆ– `NULL`      |
| `char *strrchr(const char *s, int c)`                    | æŸ¥æ‰¾æœ€åä¸€æ¬¡å‡ºç°çš„å­—ç¬¦ `c`               | è¿”å›æŒ‡é’ˆæˆ– `NULL`      |
| `char *strstr(const char *haystack, const char *needle)` | æŸ¥æ‰¾å­ä¸² `needle`                        | è¿”å›æŒ‡é’ˆæˆ– `NULL`      |
| `char *strtok(char *str, const char *delim)`             | åˆ†å‰²å­—ç¬¦ä¸²ï¼Œ                             |                        |

|     |
| --- |

| **ä¸å¯é‡å…¥** | ä¼šä¿®æ”¹åŸå­—ç¬¦ä¸² |
| ------------ | -------------- |

### 1.2 ä½¿ç”¨ç¤ºä¾‹

```c
char buf[100];
strcpy(buf, "Hello");          // buf -> "Hello"
strcat(buf, ", world!");      // buf -> "Hello, world!"
size_t len = strlen(buf);        // len = 13
int cmp  = strcmp("abc", "abd"); // cmp < 0
```

---

## 2. å†…å­˜æ“ä½œå‡½æ•° `<string.h>`

| å‡½æ•°åŸå‹                                               | åŠŸèƒ½è¯´æ˜                | å¤‡æ³¨               |
| ------------------------------------------------------ | ----------------------- | ------------------ |
| `void *memcpy(void *dest, const void *src, size_t n)`  | å¤åˆ¶ `n` å­—èŠ‚           | **ä¸**å¤„ç†é‡å åŒºåŸŸ |
| `void *memmove(void *dest, const void *src, size_t n)` | å¤åˆ¶ `n` å­—èŠ‚           | å¯å®‰å…¨å¤„ç†é‡å      |
| `void *memset(void *s, int c, size_t n)`               | å°†å‰ `n` å­—èŠ‚å¡«å……ä¸º `c` | å¸¸ç”¨äºåˆå§‹åŒ–       |
| `int memcmp(const void *s1, const void *s2, size_t n)` | æ¯”è¾ƒå‰ `n` å­—èŠ‚         | è¿”å› 0/æ­£/è´Ÿ       |

### ç¤ºä¾‹

```c
uint8_t buf[16];
memset(buf, 0xFF, sizeof(buf));  // buf å…¨éƒ¨è®¾ä¸º 0xFF
uint8_t src[4] = {1,2,3,4};
memcpy(buf + 4, src, 4);         // å°† 1,2,3,4 å†™åˆ° buf[4..7]
int diff = memcmp(buf, src, 4);  // æ¯”è¾ƒå‰ 4 å­—èŠ‚
```

---

## 3. æ ¼å¼åŒ–è¾“å…¥/è¾“å‡ºå‡½æ•° `<stdio.h>`

| å‡½æ•°åŸå‹                                                         | åŠŸèƒ½è¯´æ˜                     |
| ---------------------------------------------------------------- | ---------------------------- |
| `int sprintf(char *str, const char *format, ...);`               | æ ¼å¼åŒ–åˆ°å­—ç¬¦ä¸²ï¼ˆ**æ˜“æº¢å‡º**ï¼‰ |
| `int snprintf(char *str, size_t size, const char *format, ...);` | å¸¦é•¿åº¦é™åˆ¶ï¼Œæ›´å®‰å…¨           |
| `int sscanf(const char *str, const char *format, ...);`          | ä»å­—ç¬¦ä¸²è§£ææ•°æ®             |

### ç¤ºä¾‹

```c
char buf[50];
int a = 5, b = 10;
sprintf(buf, "a=%d, b=%02d", a, b);  // "a=5, b=10"

// sscanf è§£æ
double x;
sscanf("3.14,100", "%lf,%d", &x, &a); // x = 3.14, a = 100
```

---

## 4. å¸¸è§æ ¼å¼è¯´æ˜ç¬¦

### 4.1 å ä½ç¬¦ç»“æ„

```text
%[flags][width][.precision][length]specifier
```

### 4.2 è½¬æ¢è¯´æ˜ç¬¦ï¼ˆspecifierï¼‰

| è¯´æ˜ç¬¦   | ç±»å‹                  | ç¤ºä¾‹        |
| -------- | --------------------- | ----------- |
| `d`, `i` | æœ‰ç¬¦å·åè¿›åˆ¶          | `%d`        |
| `u`      | æ— ç¬¦å·åè¿›åˆ¶          | `%u`        |
| `o`      | æ— ç¬¦å·å…«è¿›åˆ¶          | `%o`        |
| `x`, `X` | æ— ç¬¦å·åå…­è¿›åˆ¶        | `%x` / `%X` |
| `f`, `F` | æµ®ç‚¹æ•°ï¼ˆåè¿›åˆ¶ï¼‰      | `%.2f`      |
| `e`, `E` | æµ®ç‚¹æ•°ï¼ˆæŒ‡æ•°ï¼‰        | `%.3e`      |
| `g`, `G` | è‡ªåŠ¨ `%f` / `%e` åˆ‡æ¢ | `%g`        |
| `c`      | å•å­—ç¬¦                | `%c`        |
| `s`      | å­—ç¬¦ä¸²                | `%s`        |
| `p`      | æŒ‡é’ˆåœ°å€              | `%p`        |
| `n`      | å†™å…¥å·²è¾“å‡ºå­—ç¬¦æ•°      | `%n`        |
| `%`      | è¾“å‡º `%`              | `%%`        |

### 4.3 å¸¸ç”¨æ ‡å¿—ï¼ˆflagsï¼‰

| æ ‡å¿— | å«ä¹‰                                    |
| ---- | --------------------------------------- |
| `-`  | å·¦å¯¹é½                                  |
| `+`  | å¼ºåˆ¶ç¬¦å·ä½                              |
| ç©ºæ ¼ | æ­£æ•°å‰è¾“å‡ºç©ºæ ¼                          |
| `0`  | ç”¨ 0 å¡«å……ç©ºä½                           |
| `#`  | `o`, `x`, `X`, `f`, `e`, `g` æœ‰ç‰¹æ®Šå«ä¹‰ |

### 4.4 å®½åº¦ä¸ç²¾åº¦

* **å®½åº¦ (**\`\`**)**ï¼šæœ€å°å­—æ®µå®½åº¦ï¼Œä¾‹å¦‚ `%5d` å³å¯¹é½å  5 ä½ã€‚
* **ç²¾åº¦ (**\`\`**)**ï¼š

  * å¯¹æ•´æ•°ï¼šæœ€å°æ•°å­—ä½æ•°ï¼Œå¦‚ `%02d`ã€‚
  * å¯¹æµ®ç‚¹ï¼šå°æ•°ä½æ•°ï¼Œå¦‚ `%.3f`ã€‚
  * å¯¹å­—ç¬¦ä¸²ï¼šæœ€å¤§è¾“å‡ºå­—ç¬¦æ•°ï¼Œå¦‚ `%.5s`ã€‚

### 4.5 è¾“å‡ºç¤ºä¾‹

```c
printf("|%5d|", 42);        // |   42|
printf("|%-5d|", 42);       // |42   |
printf("|%05d|", 42);       // |00042|
printf("|%02d|", 9);        // |09|
printf("|%.3f|", 3.14);     // |3.140|
printf("|%.5s|", "Hello, world"); // |Hello|
```

---

## 5. é€ŸæŸ¥è¡¨

| åˆ†ç±»       | å…³é”®å‡½æ•°   | ç‰¹æ€§ / å…³é”®ç‚¹          |
| ---------- | ---------- | ---------------------- |
| **å†…å­˜**   | `memcpy`   | é«˜æ•ˆå¤åˆ¶ï¼Œ**ä¸**å¯é‡å  |
|            | `memmove`  | å¯å®‰å…¨å¤„ç†é‡å          |
| **å­—ç¬¦ä¸²** | `strncpy`  | é™é•¿å¤åˆ¶ï¼Œéœ€ç¡®ä¿ç»ˆæ­¢ç¬¦ |
|            | `strtok`   | å­—ç¬¦ä¸²åˆ†å‰²ï¼Œ*ä¸å¯é‡å…¥* |
| **æ ¼å¼åŒ–** | `snprintf` | å¸¦é•¿åº¦é™åˆ¶ï¼Œæ¨èä½¿ç”¨   |

---

> ğŸ’¡ **æç¤º**ï¼šä»¥ä¸Šå†…å®¹ä»…ä½œå­¦ä¹ è®°å½•ï¼Œå®é™…å¼€å‘è¯·ç»“åˆå¹³å°æ–‡æ¡£ä¸ç¼–è¯‘å™¨æ‰‹å†ŒæŸ¥é˜…æœ€æ–°æ ‡å‡†ã€‚
